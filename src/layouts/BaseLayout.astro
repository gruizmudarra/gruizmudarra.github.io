---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import "@fontsource/space-mono";
import "@fontsource-variable/roboto-mono";

export interface Props {
    title?: string;
    description?: string;
    fullWidth?: boolean;
}

const { title = SITE_TITLE, description = SITE_DESCRIPTION, fullWidth = false } = Astro.props;
---

<!doctype html>
<html lang="es">
    <head>
        <BaseHead title={title} description={description} />
    </head>
    <body
        class="font-mono m-0 p-0 text-left bg-gradient-to-b from-gray-light/50 via-white to-white bg-no-repeat bg-[length:100%_600px] break-words text-gray-dark text-xl leading-relaxed"
    >
        <Header />
        <main
            class:list={[
                fullWidth
                    ? "w-full"
                    : "w-full max-w-3xl lg:max-w-5xl mx-auto px-4 py-12 md:px-4 md:py-4",
            ]}
        >
            <slot />
        </main>

        <Footer />
    </body>
</html>

<style is:global>
    @import "tailwindcss";

    @theme {
        --color-accent: #2337ff;
        --color-accent-secondary: #ff7d00;
        --color-black: #0a0908;
        --color-white: #f2f4f3;
        --color-gray: rgb(96, 115, 159);
        --color-gray-light: rgb(229, 233, 240);
        --color-gray-dark: rgb(34, 41, 57);
    }

    :root {
        --box-shadow:
            0 2px 6px color-mix(in srgb, var(--color-gray) 25%, transparent),
            0 8px 24px color-mix(in srgb, var(--color-gray) 33%, transparent),
            0 16px 32px color-mix(in srgb, var(--color-gray) 33%, transparent);
    }

    @layer base {
        html {
            font-family: "Roboto Mono", monospace;
            scroll-behavior: smooth;
        }
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            margin: 0 0 0.5rem 0;
            color: var(--color-black);
            line-height: 1.2;
            font-family: "Space Mono", monospace;
        }
        h1 {
            font-size: 3.052em;
        }
        h2 {
            font-size: 2.441em;
        }
        h3 {
            font-size: 1.953em;
        }
        h4 {
            font-size: 1.563em;
        }
        h5 {
            font-size: 1.25em;
        }
        strong,
        b {
            font-weight: 700;
            font-family: "Space Mono", monospace;
        }
        a {
            color: var(--color-accent);
        }
        a:hover {
            color: var(--color-accent);
        }
        p {
            margin-bottom: 1em;
        }
        .prose p {
            margin-bottom: 2em;
        }
        textarea {
            width: 100%;
            font-size: 16px;
        }
        input {
            font-size: 16px;
        }
        table {
            width: 100%;
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }
        code {
            padding: 2px 5px;
            background-color: var(--color-gray-light);
            border-radius: 2px;
        }
        pre {
            padding: 1.5em;
            border-radius: 8px;
        }
        pre > code {
            all: unset;
        }
        blockquote {
            border-left: 4px solid var(--color-accent);
            padding: 0 0 0 10px;
        }
        hr {
            border: none;
            border-top: 1px solid var(--color-gray-light);
        }
        @media (max-width: 720px) {
            body {
                font-size: 18px;
            }
        }
    }

    /* Scroll-reveal animations */
    @layer components {
        @media (prefers-reduced-motion: no-preference) {
            .reveal {
                opacity: 0;
                transform: translateY(24px);
                transition:
                    opacity 0.7s ease-out,
                    transform 0.7s ease-out;
                transition-delay: var(--reveal-delay, 0s);
            }
            .reveal.revealed {
                opacity: 1;
                transform: translateY(0);
            }
            .reveal-left {
                opacity: 0;
                transform: translateX(-40px);
                transition:
                    opacity 0.7s ease-out,
                    transform 0.7s ease-out;
                transition-delay: var(--reveal-delay, 0s);
            }
            .reveal-right {
                opacity: 0;
                transform: translateX(40px);
                transition:
                    opacity 0.7s ease-out,
                    transform 0.7s ease-out;
                transition-delay: var(--reveal-delay, 0s);
            }
            .reveal-left.revealed,
            .reveal-right.revealed {
                opacity: 1;
                transform: translateX(0);
            }
        }
    }
</style>
